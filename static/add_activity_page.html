<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>UCU Apps - Registration</title>
        <link rel="stylesheet" href="styles.css">
        <link rel="manifest" href="manifest.json" />
    </head>
    <body class="registration-page">
        <div class="alert" id="alert">You need to fill out everything!</div>
        
        <div id="header"></div>

        <main class="container">
            <section>
        
              <!-- Top Row: Arrow + Title + Publish -->
              <div style="
                display: flex;
                justify-content: space-between;
                padding-right: 24px;
                ">
                <div style="font-size: 32px; font-weight: bold; cursor: pointer; margin-right: 20px;" onclick="history.back()">&#x2039;</div>
                <div style="font-size: 36px; font-weight: bold;">Post a recent project</div>
                <div style="margin-left: auto;">
                </div>
                </div>
        
              <!-- Вибір категорії -->
              <div style="margin-bottom: 24px;">
                <p style="font-weight: bold; font-size: 24px">Choose category:</p>
                <div style="display: flex; gap: 16px; flex-wrap: wrap;">
                  <button class="clickable-tags">Clothes</button>
                  <button class="clickable-tags">Furniture</button>
                  <button class="clickable-tags">Medicine</button>
                </div>
              </div>
        
              <form onsubmit="saveFormData(event)" enctype="multipart/form-data">
                <div style="display: flex; gap: 40px; flex-wrap: wrap;">
                  <div style="flex: 1; width: 505px; max-width: 505px">
                    <p style="font-weight: bold; font-size: 24px">Add name</p>
                    <textarea id="username" style="width: 100%; height:24px; border: 1px solid #ccc; border-radius: 12px; padding: 12px; font-size: 24px;"></textarea>
              
                    <p style="font-weight: bold; font-size: 24px">Add date</p>
                    <input type="date" id="date" name="date">
              
                    <p style="font-weight: bold; font-size: 24px">Provide a description</p>
                    <textarea id="description" style="width: 100%; height: 160px; border: 1px solid #ccc; border-radius: 12px; padding: 12px; font-size: 24px;"></textarea>
              
                    <p style="font-weight: bold; font-size: 24px">Attach a photo</p>
                    <input type="file" id="photo" name="photo" accept="image/*" style="font-size: 18px; margin-bottom: 16px;">
              
                    <button type="submit" class="homepage_button_join" style="padding: 12px 36px;">Publish</button>
                  </div>
                </div>
              </form>
              

                
              </div>
        
            </section>
          </main>





  <div id="footer"></div>

  <script>
    fetch('header.html')
    .then(response => response.text())
    .then(html => {
      document.getElementById('header').innerHTML = html;
  
      const burger = document.getElementById('burger');
      const navMenu = document.getElementById('nav-menu');
  
      burger.addEventListener('click', () => {
        navMenu.classList.toggle('show');
      });
    });
    function saveFormData(event) {
      event.preventDefault();
    
      const name = document.getElementById('username').value;
      const date = document.getElementById('date').value;
      const description = document.getElementById('description').value;
      const photoFile = document.getElementById('photo').files[0];
    
      localStorage.setItem('form_name', name);
      localStorage.setItem('form_date', date);
      localStorage.setItem('form_description', description);
    
      if (photoFile) {
        const reader = new FileReader();
        reader.onload = function (e) {
          localStorage.setItem('form_photo', e.target.result);
          window.location.href = 'published_activity.html';
        };
        reader.readAsDataURL(photoFile);
      } else {
        window.location.href = 'published_activity.html';
      }
    }
    


    fetch('footer.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('footer').innerHTML = html;
        
      });
      function saveFormData(event) {
        event.preventDefault();
      
        const name = document.getElementById('username').value;
        const date = document.getElementById('date').value;
        const description = document.getElementById('description').value;
        const photoFile = document.getElementById('photo').files[0];
      
        localStorage.setItem('form_name', name);
        localStorage.setItem('form_date', date);
        localStorage.setItem('form_description', description);
      
        if (photoFile) {
          const reader = new FileReader();
          reader.onload = function (e) {
            localStorage.setItem('form_photo', e.target.result);
            window.location.href = 'published_activity.html';
          };
          reader.readAsDataURL(photoFile);
        } else {
          window.location.href = 'published_activity.html';
        }
      }
      
  </script>
    </body>
</html>